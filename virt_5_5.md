# Домашнее задание к занятию "5.5. Оркестрация кластером Docker контейнеров на примере Docker Swarm"

## Задача 1

>  В чём отличие режимов работы сервисов в Docker Swarm кластере: replication и global?
 
  - **Replicated** сервисы в Docker Swarm, как следует из названия, создают реплики вашего приложения в масштабируемом режиме. 
Они работают по принципу создания нескольких инстансов вашего сервиса на разных нодах Swarm. 
Количество реплик задается пользователем и может быть изменено в любой момент
  - **Global** сервисы в Docker Swarm создают инстансы вашего приложения на всех доступных нодах. 
В этом случае количество реплик приложения не задается явно пользователем. Если появляется новая нода, Swarm автоматически создает реплику вашего приложения на ней.

>  Какой алгоритм выбора лидера используется в Docker Swarm-кластере?

 - разработан консенсус алгоритм **Raft**. Он обеспечивает механизм выбора лидера в кластере и синхронизацию состояния контейнеров. 
Raft в режиме swarm позволяет синхронизировать состояние контейнеров в разных сетях, обеспечивая стабильную работу приложений
Сам Raft-алгоритм имеет ограничение на количество управляющих нод. Распределенные решения
должны быть одобрены большинством управляющих узлов, называемых кворумом. Это означает, что рекомендуется нечетное количество управляющих узлов.

>  Что такое Overlay Network?

  - **overlay/overlay2** или Оверлей Наложенная сеть это сетевой драйвер для соединения несколько демонов Docker между собой 
и которые позволяют docker-swarm службам взаимодействовать друг с другом. 
Также можено использовать оверлейные сети для облегчения связи между docker-swarm и автономным контейнером 
или между двумя отдельными контейнерами на разных Docker демонах. 
Эта стратегия устраняет необходимость выполнения маршрутизации на уровне ОС между этими контейнерами

## Задача 2:
* Создайте ваш первый Docker Swarm-кластер в Яндекс Облаке.
>Чтобы получить зачёт, предоставьте скриншот из терминала (консоли) с выводом команды:
 
> ```
> docker node ls
> ```

</details>

```bash
[centos@node01 ~]$ sudo docker node ls
ID                            HOSTNAME             STATUS    AVAILABILITY   MANAGER STATUS   ENGINE VERSION
e3axxwg86pf1x270uxotjlipw *   node01.netology.yc   Ready     Active         Leader           24.0.7
t5uipfpri9xldf0pnq4g8rv6o     node02.netology.yc   Ready     Active         Reachable        24.0.7
rxtcogkerz2sut2qvsilil6su     node03.netology.yc   Ready     Active         Reachable        24.0.7
h6nq2mn059b31wlqdrdwldbwr     node04.netology.yc   Ready     Active                          24.0.7
isdz19fx07hccsz34y3gyczat     node05.netology.yc   Ready     Active                          24.0.7
yikkf7tik9momi48ykk8xg948     node06.netology.yc   Ready     Active                          24.0.7

```          
 
## Задача 3:
* Создайте ваш первый, готовый к боевой эксплуатации кластер мониторинга, состоящий из стека микросервисов.
> Чтобы получить зачёт, предоставьте скриншот из терминала (консоли), с выводом команды:

    f02332492fa3   gcr.io/cadvisor/cadvisor:v0.47.0   "/usr/bin/cadvisor -…"   7 minutes ago   Up 7 minutes (healthy)   8080/tcp                                                                           cadvisor

  

## Задача 4:
* Откройте веб-браузер, зайдите на страницу http://<внешний_ip_адрес_вашей_ВМ>:3000.
Используйте для авторизации логин и пароль из .env-file.
Изучите доступный интерфейс, найдите в интерфейсе автоматически созданные docker-compose-панели с графиками(dashboards).
Подождите 5-10 минут, чтобы система мониторинга успела накопить данные.
Чтобы получить зачёт, предоставьте:
скриншот работающего веб-интерфейса Grafana с текущими метриками, как на примере




